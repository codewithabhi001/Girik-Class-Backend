/toca:
  post:
    tags: [TOCA]
    summary: Create TOCA
    x-roles: [TM]
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required: [vessel_id, losing_class_society, gaining_class_society, request_date]
            properties:
              vessel_id:
                $ref: '#/components/schemas/UUID'
              losing_class_society:
                type: string
                example: "Lloyd's Register"
              gaining_class_society:
                type: string
                example: "DNV"
              request_date:
                type: string
                format: date
          example:
            vessel_id: "550e8400-e29b-41d4-a716-446655440000"
            losing_class_society: "Lloyd's Register"
            gaining_class_society: "DNV"
            request_date: "2026-06-01"
    responses:
      '201':
        description: TOCA created
  get:
    tags: [TOCA]
    summary: List TOCAs
    x-roles: [ADMIN, GM, TM]
    responses:
      '200':
        description: List of TOCAs

/toca/{id}/status:
  put:
    tags: [TOCA]
    summary: Update TOCA Status
    x-roles: [ADMIN, TM]
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    requestBody:
      content:
        application/json:
          schema:
            type: object
            required: [status]
            properties:
              status:
                type: string
                enum: [ACCEPTED, REJECTED]
    responses:
      '200':
        description: Status updated

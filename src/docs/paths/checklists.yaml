/api/v1/jobs/{jobId}/checklist:
  get:
    tags: [Checklists]
    summary: Get checklist for job
    operationId: getChecklist
    x-roles: [ADMIN, GM, TM, TO, SURVEYOR]
    parameters:
      - name: jobId
        in: path
        required: true
        schema: { type: string, format: uuid }
    responses:
    responses:
      "200":
        description: Checklist data retrieved successfully
        content:
          application/json:
            schema:
              type: object
              properties:
                success: { type: boolean, example: true }
                data:
                  type: array
                  items:
                    type: object
                    properties:
                      id: { type: string, format: uuid }
                      question_code: { type: string }
                      question_text: { type: string }
                      answer: { type: string }
                      remarks: { type: string }
                      file_url: { type: string }
      "403": { description: Forbidden }

  put:
    tags: [Checklists]
    summary: Submit checklist
    operationId: submitChecklist
    x-roles: [SURVEYOR]
    parameters:
      - name: jobId
        in: path
        required: true
        schema: { type: string, format: uuid }
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required: [items]
            properties:
              items:
                type: array
                items:
                  type: object
                  required: [question_code, question_text, answer]
                  properties:
                    question_code: { type: string }
                    question_text: { type: string }
                    answer: { type: string, enum: [YES, NO, NA] }
                    remarks: { type: string }
                    file_url: { type: string, format: uri, description: "Evidence image URL" }
          example:
            items:
              - question_code: "LSE001"
                question_text: "Are life jackets available?"
                answer: "YES"
                remarks: "Verified count matches record"
                file_url: ""
              - question_code: "LSE002"
                question_text: "Is the fire extinguisher charged?"
                answer: "NO"
                remarks: "Pressure low, needs replacement"
                file_url: "https://s3.amazonaws.com/bucket/job/123/evidence_fire_ext.jpg"
    responses:
      "200": { description: Checklist submitted }
      "403": { description: Forbidden }

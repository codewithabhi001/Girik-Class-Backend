/api/v1/providers:
  get:
    tags: [Providers]
    summary: Get providers
    operationId: getProviders
    x-roles: [ADMIN, GM, TM, TO]
    responses:
      "200": { description: List of providers }
      "403": { description: Forbidden }

  post:
    tags: [Providers]
    summary: Create provider
    operationId: createProvider
    x-roles: [ADMIN, GM]
    requestBody:
      content:
        application/json:
          schema:
            type: object
            required: [name]
            properties:
              name: { type: string }
              type: { type: string }
              contact_email: { type: string, format: email }
              contact_phone: { type: string }
          example:
            name: "Marine Services Ltd"
            type: "SURVEYOR"
            contact_email: "contact@marineservices.com"
            contact_phone: "+65 6123 4567"
    responses:
      "201": { description: Provider created }
      "403": { description: Forbidden }

/api/v1/providers/{id}/status:
  put:
    tags: [Providers]
    summary: Update provider status
    operationId: updateProviderStatus
    x-roles: [ADMIN, GM]
    parameters:
      - name: id
        in: path
        required: true
        schema: { type: string, format: uuid }
    requestBody:
      content:
        application/json:
          schema:
            type: object
            required: [status]
            properties:
              status: { type: string, enum: [ACTIVE, INACTIVE, SUSPENDED] }
          example:
            status: "ACTIVE"
    responses:
      "200": { description: Status updated }
      "403": { description: Forbidden }

/api/v1/providers/{id}/evaluations:
  post:
    tags: [Providers]
    summary: Add evaluation
    operationId: evaluateProvider
    x-roles: [ADMIN, GM, TM]
    parameters:
      - name: id
        in: path
        required: true
        schema: { type: string, format: uuid }
    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              rating: { type: number }
              feedback: { type: string }
              job_id: { type: string, format: uuid }
          example:
            rating: 5
            feedback: "Excellent service. Completed on time."
            job_id: "01933c5e-7f2a-7a00-8000-1a2b3c4d5e6f"
    responses:
      "201": { description: Evaluation added }
      "403": { description: Forbidden }

  get:
    tags: [Providers]
    summary: Get evaluations
    operationId: getProviderEvaluations
    x-roles: [ADMIN, GM, TM]
    parameters:
      - name: id
        in: path
        required: true
        schema: { type: string, format: uuid }
    responses:
      "200": { description: List of evaluations }
      "403": { description: Forbidden }

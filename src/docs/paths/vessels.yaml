/api/v1/vessels:
  get:
    tags: [Vessels]
    summary: List vessels
    description: List all vessels. CLIENT sees only their vessels.
    operationId: getVessels
    x-roles: [ADMIN, GM, TM, TO, SURVEYOR, CLIENT]
    parameters:
      - name: page
        in: query
        schema:
          type: integer
          default: 1
      - name: limit
        in: query
        schema:
          type: integer
          default: 20
    responses:
      "200":
        description: List of vessels
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  type: array
                  items:
                    $ref: '#/components/schemas/VesselResponse'
            example:
              success: true
              data:
                - id: "01933c5e-7f2a-7a00-8000-1a2b3c4d5e6f"
                  vessel_name: "Ocean Pioneer"
                  imo_number: "9123456"
                  flag_state: "Singapore"
      "401":
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'

  post:
    tags: [Vessels]
    summary: Create vessel
    description: Create a new vessel. ADMIN, GM, TM only.
    operationId: createVessel
    x-roles: [ADMIN, GM, TM]
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/VesselCreateRequest'
          example:
            client_id: "01933c5e-7f2a-7a00-8000-1a2b3c4d5e6f"
            vessel_name: "Ocean Pioneer"
            imo_number: "9123456"
            flag_state: "Singapore"
            ship_type: "Cargo"
    responses:
      "201":
        description: Vessel created
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  $ref: '#/components/schemas/VesselResponse'
            example:
              success: true
              data:
                id: "01933c5e-7f2a-7a00-8000-1a2b3c4d5e6f"
                vessel_name: "Ocean Pioneer"
      "400":
        description: Validation error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'

/api/v1/vessels/client/{clientId}:
  get:
    tags: [Vessels]
    summary: Get vessels by client
    description: Get all vessels for a specific client. ADMIN, GM, TM only.
    operationId: getVesselsByClient
    x-roles: [ADMIN, GM, TM]
    parameters:
      - name: clientId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    responses:
      "200":
        description: List of client vessels
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  type: array
                  items:
                    $ref: '#/components/schemas/VesselResponse'
      "403":
        description: Forbidden
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'

/api/v1/vessels/{id}:
  get:
    tags: [Vessels]
    summary: Get vessel by ID
    description: Get vessel details by ID.
    operationId: getVesselById
    x-roles: [ADMIN, GM, TM, TO, SURVEYOR, CLIENT]
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    responses:
      "200":
        description: Vessel details
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  $ref: '#/components/schemas/VesselResponse'
      "404":
        description: Vessel not found
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'

  put:
    tags: [Vessels]
    summary: Update vessel
    description: Update vessel details. ADMIN, GM, TM only.
    operationId: updateVessel
    x-roles: [ADMIN, GM, TM]
    parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    requestBody:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/VesselUpdateRequest'
          example:
            vessel_name: "Ocean Pioneer II"
    responses:
      "200":
        description: Vessel updated
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  $ref: '#/components/schemas/VesselResponse'
      "400":
        description: Validation error
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
